{"version":3,"sources":["services/movieApi.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","views/MovieDetailsPage/MovieDetailsPage.module.css","components/MovieInfo.js","views/MovieDetailsPage/MovieDetailsPage.js"],"names":["axios","defaults","baseURL","key","fetchMovieTrends","then","res","data","results","fetchMovieDetails","id","fetchMovieWithQuery","searchQuery","fetchMovieCast","cast","fetchMovieReviews","_defineProperty","obj","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","module","exports","MovieInfo","this","props","exact","to","pathname","state","from","newLocation","className","styles","NavigationLink","AddInfoLink","activeClassName","NavigationLinkActive","Component","AsyncCast","lazy","AsyncReviews","MovieDetailsPage","movie","images","handleGoBack","location","history","routes","movies","movieApi","match","params","movieId","setState","backBtn","onClick","movieWrapper","imageWrapper","src","poster_path","alt","original_title","detailsWrapper","release_date","slice","vote_average","overview","genres","reduce","acc","genre","name","fallback","path","component"],"mappings":"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","file":"static/js/MovieDetailsPage.3109168c.chunk.js","sourcesContent":["import axios from \"axios\";\naxios.defaults.baseURL = \"https://api.themoviedb.org/3\";\nconst key = \"b3a36dd7a0ce5dd7581172574a44ab5f\";\n\nconst fetchMovieTrends = () => {\n  return axios(`/trending/movie/day?api_key=${key}`).then(\n    (res) => res.data.results\n  );\n};\nconst fetchMovieDetails = (id) => {\n  return axios(`/movie/${id}?api_key=${key}&language=en-US`).then(\n    (res) => res.data\n  );\n};\n\nconst fetchMovieWithQuery = (searchQuery) => {\n  return axios(`/search/movie?api_key=${key}&query=${searchQuery}`).then(\n    (res) => res.data.results\n  );\n};\n\nconst fetchMovieCast = (id) => {\n  return axios(`/movie/${id}/credits?api_key=${key}`).then(\n    (res) => res.data.cast\n  );\n};\n\nconst fetchMovieReviews = (id) => {\n  return axios(`/movie/${id}/reviews?api_key=${key}`).then(\n    (res) => res.data.results\n  );\n};\n\nexport default {\n  fetchMovieTrends,\n  fetchMovieDetails,\n  fetchMovieWithQuery,\n  fetchMovieCast,\n  fetchMovieReviews,\n};\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backBtn\":\"MovieDetailsPage_backBtn__1p1Ev\",\"movieWrapper\":\"MovieDetailsPage_movieWrapper__1in7e\",\"imageWrapper\":\"MovieDetailsPage_imageWrapper__2ZhVy\"};","import React, { Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./Navigation/Navigation.module.css\";\n\nexport default class MovieInfo extends Component {\n  render() {\n    const { id } = this.props;\n    return (\n      <div>\n        <p>Additional information</p>\n        <NavLink\n          exact\n          to={{\n            pathname: `/movie/${id}/cast`,\n            state: { from: this.props.newLocation },\n          }}\n          className={styles.NavigationLink + \" \" + styles.AddInfoLink}\n          activeClassName={styles.NavigationLinkActive}\n        >\n          Cast\n        </NavLink>\n        <br />\n        <NavLink\n          to={{\n            pathname: `/movie/${id}/reviews`,\n            state: { from: this.props.newLocation },\n          }}\n          className={styles.NavigationLink + \" \" + styles.AddInfoLink}\n          activeClassName={styles.NavigationLinkActive}\n        >\n          Reviews\n        </NavLink>\n      </div>\n    );\n  }\n}\n\nMovieInfo.propTypes = {\n  id: PropTypes.number.isRequired,\n};\n","import React, { Component, lazy, Suspense } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport routes from \"../../routes\";\nimport movieApi from \"../../services/movieApi\";\nimport styles from \"./MovieDetailsPage.module.css\";\nimport MovieInfo from \"../../components/MovieInfo\";\n\nconst AsyncCast = lazy(() =>\n  import(\"../../components/cast\" /* webpackChunkName: \"CastSection\" */)\n);\n\nconst AsyncReviews = lazy(() =>\n  import(\"../../components/reviews\" /* webpackChunkName: \"ReviewsSection\" */)\n);\n\nexport default class MovieDetailsPage extends Component {\n  state = {\n    movie: null,\n    images: [],\n  };\n\n  componentDidMount() {\n    movieApi\n      .fetchMovieDetails(this.props.match.params.movieId)\n      .then((movie) => this.setState({ movie }));\n  }\n\n  handleGoBack = () => {\n    const {\n      location: { state },\n      history,\n    } = this.props;\n\n    if (state && state.from) {\n      return history.push(state.from);\n    }\n    history.push(routes.movies);\n  };\n\n  render() {\n    const { movie } = this.state;\n    return (\n      <div>\n        <button className={styles.backBtn} onClick={this.handleGoBack}>\n          &#8592; Go back\n        </button>\n        <br />\n        {movie && (\n          <>\n            <div className={styles.movieWrapper}>\n              <div className={styles.imageWrapper}>\n                <img\n                  src={`https://image.tmdb.org/t/p/w200/${movie.poster_path}`}\n                  alt={movie.original_title}\n                />\n              </div>\n              <div className={styles.detailsWrapper}>\n                <h2>\n                  {movie.original_title} ({movie.release_date.slice(0, 4)})\n                </h2>\n                <p>User Score: {movie.vote_average * 10}%</p>\n                <h3>Overview</h3>\n                <p>{movie.overview}</p>\n                <h4>Genres</h4>\n                <p>\n                  {movie.genres.reduce(\n                    (acc, genre) => (acc += `${genre.name} `),\n                    \"\"\n                  )}\n                </p>\n              </div>\n            </div>\n            <MovieInfo\n              newLocation={{ ...this.props.location.state.from }}\n              id={movie.id}\n            />\n            <Suspense fallback={<h1>Loading...</h1>}>\n              <Route path=\"/movie/:movieId/cast\" component={AsyncCast} />\n              <Route path=\"/movie/:movieId/reviews\" component={AsyncReviews} />\n            </Suspense>\n          </>\n        )}\n      </div>\n    );\n  }\n}\n"],"sourceRoot":""}